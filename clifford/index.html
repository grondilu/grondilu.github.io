<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>Clifford.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
    <script src="lib/peg-0.10.0.min.js"></script>
    <script src="lib/clifford.js"></script>
  </head>
  <body>
    <script>
if (typeof(BigInt) !== 'undefined') {
  document.createElement("script").src = "lib/rat.js";
  document.createElement("script").src = "lib/clifford.js";
} else {
  let paragraph = document.createElement("p");
  paragraph.style = "color:red;";
  paragraph.innerHTML = '<p style="color:red;">This page requires support for <a href="https://developers.google.com/web/updates/2018/05/bigint">javascript\'s native bigint</a>.  Try using <a href=http://www.google.com/chrome>Google chrome</a>.</p>';
  document.body.appendChild(paragraph);
}
    </script>
    <h1>Introduction</h1>
    <p><em>Clifford.js</em> is a javascript library that performs computations on the
    <a href="https://en.wikipedia.org/wiki/Universal_geometric_algebra">Universal geometric algebra</a>
    with multivariate polynomial coefficients.  Thus, it allows computations on expressions such as :
    $$ 1 + (1+x+x²)\mathbf{e}_1 + xyz\,\mathbf{e}_2\wedge\mathbf{e}_3 $$</p>

    <h1>Tests</h1>
    <p>The table below tests various inputs.</p>
    <table id=tests_table width=100%>
      <tr>
        <th>input</th>
        <!--<th>.constructor.name</th>-->
        <!-- <th>.toString()</th> -->
        <th>.toTeX()</th>
      </tr>
    </table>
    <script>
"use strict";

fetch("lib/clifford.pegjs").
then(r => r.text()).
then(peg.generate).
then(main);

function main(parser) {
  let tests = [
    "1",
    "$1",
    "#2",
    "1+2",
    "2/3",
    "(1/2)*(1/2)",
    "3*2",
    "1+2/3",
    "1+2*3",
    "a",
    "a+b",
    "a+b/2",
    "a²",
    "x/3",
    "(a+b)*(a-b)",
    "(a+b)**2",
    "2*$1",
    "(1+x)*$1",
    "$1*$2+$2*$1",
    "$1*$2+$1*$2",
    "$1*$2-$1*$2",
    "$0*$1",
    "$1*$0",
    "$1²",
    "(1+$1)*$2",
    "($0+$1)*($0+$1)",
    "($0+$1)²",
    "$1*$2*$3",
    "$0*$1*$0",
    "#1**3",
    "(a+b/2)**1",
    "(a+b/2)**2",
    "(a+b/2)*(a+b/2)",
    "(a+b/2)**3" ],
    html_table = document.getElementById("tests_table"),
    outputs = [ x => "\\(" + new MultiVector(parser.parse(x)).toTeX() + "\\)" ];

    for (let test of tests) {
      let row = document.createElement("tr"),
        td = document.createElement("td");
      td.innerHTML = test;
      row.appendChild(td);
      for (let output of outputs) {
        let td = document.createElement("td");
        td.innerHTML = output(test);
        row.appendChild(td);
      }
      html_table.appendChild(row);
    }
}

    </script>
  <h2>Dependencies</h2>
  <ul>
    <li><a href=http://pegjs.org>PEG.js</a>, for parsing an expression.</li>
    <li><a href=http://www.mathjax.org>MathJax</a>, for rendering \(\TeX\)</li>
    <li>The code makes extensive use of <a href=https://www.w3schools.com/js/js_es6.asp>ECMASCRIPT 6</a>'s features.</li>
  </ul>

  </body>
</html>
